<html>
<head>
<title>Camera</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">

<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<style>
.col{
  text-align:center;
}
.row{
  padding-top:10px;
}
.switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
}

.switch input { 
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .slider {
  background-color: #2196F3;
}

input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}

.slidecontainer {
  width: 100%; /* Width of the outside container */
  padding-top:5px;
}

</style>
</style>
</head>
<body>
	 
<div class="container">
<div class="row"> 
    <div class="col"><h3>Light A</h3></div>
    <div class="col"><h3>Light B</h3></div>
    <div class="w-100"></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
    <div class="w-100"></div>
    <div class="col">
		<label class="switch" >
			<input type="checkbox" class="lighta">
			<span class="slider round"></span>
		</label>
	</div>
	<div class="col">
		<div class="slidecontainer">
			<input type="range" min="1" max="100" value="100" class="lighta">
		</div>
	</div>
    <div class="col">
		<label class="switch">
		<input type="checkbox" class="lightb">
		<span class="slider round"></span>
	</label>
	</div>
<div class="col">
<div class="slidecontainer">
  <input type="range" min="1" max="100" value="100" class="lightb">
</div></div>
</div>
 <div class="row"> 
    <div class="col"><h3>Light C</h3></div>
    <div class="col"><h3>Light D</h3></div>
    <div class="w-100"></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
    <div class="w-100"></div>
    <div class="col">
		<label class="switch" >
			<input type="checkbox" class="lightc">
			<span class="slider round"></span>
		</label>
	</div>
	<div class="col">
		<div class="slidecontainer">
			<input type="range" min="1" max="100" value="100" class="lightc">
		</div>
	</div>
    <div class="col">
		<label class="switch">
		<input type="checkbox" class="lightd">
		<span class="slider round"></span>
	</label>
	</div>
<div class="col">
<div class="slidecontainer">
  <input type="range" min="1" max="100" value="100" class="lightd">
</div></div>
</div>
<div class="row"> 
    <div class="col"><h3>Light E</h3></div>
    <div class="col"><h3>Light F</h3></div>
    <div class="w-100"></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
    <div class="w-100"></div>
    <div class="col">
		<label class="switch" >
			<input type="checkbox" class="lighte">
			<span class="slider round"></span>
		</label>
	</div>
	<div class="col">
		<div class="slidecontainer">
			<input type="range" min="1" max="100" value="100" class="lighte">
		</div>
	</div>
    <div class="col">
		<label class="switch">
		<input type="checkbox" class="lightf">
		<span class="slider round"></span>
	</label>
	</div>
<div class="col">
<div class="slidecontainer">
  <input type="range" min="1" max="100" value="100" class="lightf">
</div></div>
</div>
<div class="row"> 
    <div class="col"><h3>Light G</h3></div>
    <div class="col"><h3>Light H</h3></div>
    <div class="w-100"></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
    <div class="w-100"></div>
    <div class="col">
		<label class="switch" >
			<input type="checkbox" class="lightg">
			<span class="slider round"></span>
		</label>
	</div>
	<div class="col">
		<div class="slidecontainer">
			<input type="range" min="1" max="100" value="100" class="lightg">
		</div>
	</div>
    <div class="col">
		<label class="switch">
		<input type="checkbox" class="lighth">
		<span class="slider round"></span>
	</label>
	</div>
<div class="col">
<div class="slidecontainer">
  <input type="range" min="1" max="100" value="100" class="lighth">
</div></div>
</div>
<div class="row"> 
    <div class="col"><h3>Light I</h3></div>
    <div class="col"><h3>Light J</h3></div>
    <div class="w-100"></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
    <div class="w-100"></div>
    <div class="col">
		<label class="switch" >
			<input type="checkbox" class="lighti">
			<span class="slider round"></span>
		</label>
	</div>
	<div class="col">
		<div class="slidecontainer">
			<input type="range" min="1" max="100" value="100" class="lighti">
		</div>
	</div>
    <div class="col">
		<label class="switch">
		<input type="checkbox" class="lightj">
		<span class="slider round"></span>
	</label>
	</div>
<div class="col">
<div class="slidecontainer">
  <input type="range" min="1" max="100" value="100" class="lightj">
</div></div>
</div>
<div class="row"> 
    <div class="col"><h3>Light K</h3></div>
    <div class="col"><h3>Light L</h3></div>
    <div class="w-100"></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
	<div class="col"><h5>Switch</h5></div>
    <div class="col"><h5>Brightness</h5></div>
    <div class="w-100"></div>
    <div class="col">
		<label class="switch" >
			<input type="checkbox" class="lightk">
			<span class="slider round"></span>
		</label>
	</div>
	<div class="col">
		<div class="slidecontainer">
			<input type="range" min="1" max="100" value="100" class="lightk">
		</div>
	</div>
    <div class="col">
		<label class="switch">
		<input type="checkbox" class="lightl">
		<span class="slider round"></span>
	</label>
	</div>
<div class="col">
<div class="slidecontainer">
  <input type="range" min="1" max="100" value="100" class="lightl" >
</div></div>
</div>
 </div>

<center><h1></h1></center>
<center>
	  <div style="width:100px;display:inline-block"></div><br>
	 <button class="btn btn-secondary" onclick="movea1()">ON1</button>
	 <button class="btn btn-secondary" onclick="movea2()">AUTO</button>
	 <button class="btn btn-secondary" onclick="movea3()">OFF</button><br>
	 <input type="text" id="lbUsers1" style="width:80px;">
	 <input type="text" id="lbUsers2" style="width:80px;">
	 <input type="text" id="lbUsers3" style="width:80px;">
	 <input type="text" id="lbUsers4" style="width:80px;"><br>
	
	   <button class="btn btn-secondary" onclick="moveb1()">DoorKey</button>
	 <button class="btn btn-secondary" onclick="moveb3()">L1ON</button>
	 
	  <button class="btn btn-secondary" onclick="moveb2()">L1OFF</button>
	  <button class="btn btn-secondary" onclick="moveb5()">L2ON</button>
	 
	  <button class="btn btn-secondary" onclick="moveb4()">L2OFF</button><br>
	 	 <input type="text" id="lbUsers1a" style="width:80px;">
	 <input type="text" id="lbUsers2a" style="width:80px;">
	 <input type="text" id="lbUsers3a" style="width:80px;">
	 <input type="text" id="lbUsers4a" style="width:80px;"><br>
	 <div style="width:100px;display:inline-block"></div>
	   <button class="btn btn-secondary" onclick="movec1()">L3ON</button>
	 <button class="btn btn-secondary" onclick="movec2()">L3OFF</button>
	 
	  <button class="btn btn-secondary" onclick="movec3()">L4ON</button>
	   <button class="btn btn-secondary" onclick="movec4()">L4OFF</button>
	   <button class="btn btn-secondary" onclick="movec5()">L5ON</button>
	 <button class="btn btn-secondary" onclick="movec6()">L5OFF</button>
	 
	  <button class="btn btn-secondary" onclick="movec7()">L6ON</button>
	   <button class="btn btn-secondary" onclick="movec8()">L6OFF</button><br> 
	  
	 	 <input type="text" id="lbUsers1b" style="width:80px;">
	 <input type="text" id="lbUsers2b" style="width:80px;">
	 <input type="text" id="lbUsers3b" style="width:80px;">
	 <input type="text" id="lbUsers4b" style="width:80px;"><br>
	 <div style="width:100px;display:inline-block"></div>
	 <div style="width:100px;display:inline-block"></div>
	   <button class="btn btn-secondary" onclick="moved1()">ON4</button>
	 <button class="btn btn-secondary" onclick="moved2()">1/2</button>
	 
	  <button class="btn btn-secondary" onclick="moved3()">OFF</button><br>
	  	 <input type="text" id="lbUsers1c" style="width:80px;">
	 <input type="text" id="lbUsers2c" style="width:80px;">
	 <input type="text" id="lbUsers3c" style="width:80px;">
	 <input type="text" id="lbUsers4c" style="width:80px;"><br>
	 <div style="width:100px;display:inline-block"></div>
	 <div style="width:100px;display:inline-block"></div>
         <button class="btn btn-secondary" onclick="moveg1()">ON5</button>
	 <button class="btn btn-secondary" onclick="moveg2()">1/2</button>
	 
	  <button class="btn btn-secondary" onclick="moveg3()">OFF</button><br>
         <button class="btn btn-secondary" onclick="moveg4()">ON6</button>
         <button class="btn btn-secondary" onclick="moveg5()">1/2</button>

          <button class="btn btn-secondary" onclick="moveg6()">OFF</button><br>

	  	 <input type="text" id="lbUsers1d" style="width:80px;">
	 <input type="text" id="lbUsers2d" style="width:80px;">
	 <input type="text" id="lbUsers3d" style="width:80px;">
	 <input type="text" id="lbUsers4d" style="width:80px;"><br>
	    <button class="btn btn-secondary" onclick="movee1()">WC</button>
	   <button class="btn btn-secondary" onclick="movee3()">OFF</button>
	
	    <button class="btn btn-secondary" onclick="movef1()">BED</button>
		  <button class="btn btn-secondary" onclick="movef3()">OFF</button>
	 <br>
	
	 
</center>
<script type="text/javascript">
	var ws;
	//document.getElementById('lbUsers1').text = 'newid';
	// document.getElementById("lbUsers1").id = "newid";
	//document.getElementById('lbUsers1').innerHTML = "New<br>Text";
    //document.getElementById('lbUsers1').value = "New text!";
	function setConnected(connected) {

	}
	function connect() {   

		if ('WebSocket' in window) {
			//    ws = new WebSocket('ws://192.168.1.102:8038/examples/websocket/echoMessage');
			ws = new WebSocket('ws://192.168.1.99:3099/locker/websocket/echoMessage');
		} else if ('MozWebSocket' in window) {
			//    ws = new MozWebSocket('ws://192.168.1.102:8038/examples/websocket/echoMessage');
			ws = new MozWebSocket('ws//192.168.1.99:3099/locker/websocket/echoMessage');
		} else {
			//      alert('WebSocket is not supported by this browser.');
			return;
		}



		ws.onopen = function () {
		//	alert("connected");
			
			
		}
		setConnected(true);
		ws.onmessage = function (event) {
		receiveMsg(event.data);
		
			
		}
		
		ws.onclose = function (event) {
			//setConnected(false);
			setTimeout(connect,5000);		
		};
	}
	connect();
    function receiveMsg(received){
          if(received.indexOf("elco:{-")>-1 && received.indexOf("-}")>-1 ){
                    if(received.indexOf(")(")>-1 ){
                //     tem1= received.substring(received.indexOf("[")+1,received.indexOf("|"))
                //     tem2= received.substring(received.indexOf("|")+1,received.indexOf("%"))
                //      received.substring(received.indexOf("|")+1,received.indexOf("%"))
                   	var pass = elbk(received);
		            }
                   if (received.indexOf("[1]")>-1 || received.indexOf("[0]")>-1 || received.indexOf("[2]")>-1 || received.indexOf("[3]")>-1 ){
                            var pass = elks(received);
                   }
                   if (received.indexOf("[1]")>-1 || received.indexOf("[0]")>-1 || received.indexOf("[2]")>-1 || received.indexOf("[3]")>-1 || received.indexOf(")(")>-1){

                   }
                   else{
                      var pass = elkt(received);
                   }
            }
                  if(received.indexOf("eltn:{-")>-1 && received.indexOf("-}")>-1 ){
                                   if(received.indexOf("][107300A4")>-1 ){
                                           tem1= received.substring(7,received.indexOf("][107300A4"))
                                            if (parseInt(tem1)>99){
                                           document.getElementById('lbUsers3d').value = tem1;
                                           }
                   }
                                      if(received.indexOf("][107300B4")>-1 ){
                                           tem1= received.substring(7,received.indexOf("][107300B4"))
                                           if (parseInt(tem1)>99){
                                           document.getElementById('lbUsers3a').value = tem1;
                                          }
                   }

                                      if(received.indexOf("][107300C4")>-1 ){
                                           tem1= received.substring(7,received.indexOf("][107300C4"))
                                           if (parseInt(tem1)>99){
                                           document.getElementById('lbUsers3c').value = tem1;
                                           }
                                   }
                                  if(received.indexOf("][107300D4")>-1 ){
                                            tem1= received.substring(7,received.indexOf("][107300D4"))
                                            if (parseInt(tem1)>99){
                                            document.getElementById('lbUsers3a').value = tem1;
                                            }
                                   }
                                  if(received.indexOf("][107300E4")>-1 ){
                                              tem1= received.substring(7,received.indexOf("][107300E4"))
                                              if (parseInt(tem1)>99){
                                        document.getElementById('lbUsers3b').value = tem1;
                                              }
                   }
                                      if(received.indexOf("][107300F4")>-1 ){
                                              tem1= received.substring(7,received.indexOf("][107300F4"))
                                              if (parseInt(tem1)>99){
                                             document.getElementById('lbUsers3').value = tem1;
                                             }
                                   }
                                      if(received.indexOf("][107300G4")>-1 ){
                                            tem1= received.substring(7,received.indexOf("][107300G4"))
                                            if (parseInt(tem1)>99){
                                           document.getElementById('lbUsers3').value = tem1;
                                           }
                   }
                                      if(received.indexOf("][107300H4")>-1 ){
                                            tem1= received.substring(7,received.indexOf("][107300H4"))
                                             if (parseInt(tem1)>99){
                                            document.getElementById('lbUsers3').value = tem1;
                                            }

                   }
	       }

   }
	
	$(':checkbox').change(function () {
		var this_checked=$(this).prop("checked");
		switch($(this).attr("class")){
			case "lighta":
				if (this_checked)
					ws.send("eltn:[-1][10730001-]")
				else
					ws.send("eltn:[-3][10730001-]")
				break;
			case "lightb":
				if (this_checked)
					ws.send("eltn:[-2][10730002-]")
				else
					ws.send("eltn:[-3][10730002-]")
				break;
			case "lightc":
				if (this_checked)
					ws.send("eltn:[-4][10730002-]")
				else
					ws.send("eltn:[-5][10730002-]")
				break;
			case "lightd":
			
				if (this_checked)
					ws.send("eltn:[-1][10730003-]")
				else
					ws.send("eltn:[-2][10730003-]")
				break;
			case "lighte":
				if (this_checked)
					ws.send("eltn:[-3][10730003-]")
				else
					ws.send("eltn:[-4][10730003-]")
				break;
			case "lightf":
				if (this_checked)
					ws.send("eltn:[-5][10730003-]")
				else
					ws.send("eltn:[-6][10730003-]")
				break;
			case "lightg":
				if (this_checked)
					ws.send("eltn:[-7][10730001-]")
				else
					ws.send("eltn:[-8][10730003-]")
				break;
			case "lighth":
				if (this_checked)
					ws.send("eltn:[-1][10730004-]")
				else
					ws.send("eltn:[-3][10730004-]")
				break;
			case "lighti":
				if (this_checked)
					ws.send("eltn:[-1][10730005-]")
				else
					ws.send("eltn:[-3][10730005-]")
				break;
			case "lightj":
				if (this_checked)
					ws.send("eltn:[-1][107300A5-]")
				else
					ws.send("eltn:[-3][107300A5-]")
				break;
			case "lightk":
				if (this_checked)
					ws.send("eltn:[-9][10730009-]")
				else
					ws.send("eltn:[-7][10730009-]")
				break;
			case "lightl":
				if (this_checked)
					ws.send("eltn:[-6][10730009-]")
				else
					ws.send("eltn:[-4][10730009-]")
				break;
			default:
				break;
		}
	});


	function moveup(){
		ws.send("elco:[-10730002|Z008-]")
	} 
	function moveleft(){
		ws.send("elco:[-10730002|Z007-]")
	} 
	function movea1(){
		ws.send("eltn:[-1][10730001-]")
	} 
	function movea2(){
		ws.send("eltn:[-2][10730001-]")
	} 
	function movea3(){
		ws.send("eltn:[-3][10730001-]")
	} 
	function moveb1(){
		ws.send("eltn:[-1][10730002-]")
	} 
	function moveb2(){
		ws.send("eltn:[-2][10730002-]")
	} 
	function moveb3(){
		ws.send("eltn:[-3][10730002-]")
	} 
	function moveb4(){
		ws.send("eltn:[-4][10730002-]")
	} 
	function moveb5(){
		ws.send("eltn:[-5][10730002-]")
	} 
	function movec1(){
		ws.send("eltn:[-1][10730003-]")
	} 
	function movec2(){
		ws.send("eltn:[-2][10730003-]")
	} 
	function movec3(){
		ws.send("eltn:[-3][10730003-]")
	} 	
	function movec4(){
		ws.send("eltn:[-4][10730003-]")
	} 	
	function movec5(){
		ws.send("eltn:[-5][10730003-]")
	} 
	function movec6(){
		ws.send("eltn:[-6][10730003-]")
	} 
	function movec7(){
		ws.send("eltn:[-7][10730003-]")
	} 	
	function movec8(){
		ws.send("eltn:[-8][10730003-]")
	} 	
	function moved1(){
		ws.send("eltn:[-1][10730004-]")
	} 
	function moved2(){
		ws.send("eltn:[-2][10730004-]")
	} 
	function moved3(){
		ws.send("eltn:[-3][10730004-]")
	} 	
	function movee1(){
		ws.send("eltn:[-9][10730009-]")
	} 
	function movee2(){
		ws.send("eltn:[-8][10730009-]")
	} 
	function movee3(){
		ws.send("eltn:[-7][10730009-]")
	} 	
	function movef1(){
		ws.send("eltn:[-6][10730009-]")
	} 
	function movef2(){
		ws.send("eltn:[-5][10730009-]")
	} 
	function movef3(){	
		ws.send("eltn:[-4][10730009-]")
	} 	
	function moveg1(){
		ws.send("eltn:[-1][10730005-]")
	} 
	function moveg2(){
		ws.send("eltn:[-2][10730005-]")
	} 
	function moveg3(){
		ws.send("eltn:[-3][10730005-]")
	}
	function moveg4(){
		ws.send("eltn:[-1][107300A5-]")
	}
	function moveg5(){
		ws.send("eltn:[-2][107300A5-]")
	}
	function moveg6(){
		ws.send("eltn:[-3][107300A5-]")
	}
 	
function elbk(msg){
     tem1= msg.substring(msg.indexOf("[")+1,msg.indexOf("|"))
     tem2= msg.substring(msg.indexOf("|")+1,msg.indexOf("%"))
	 tem3= msg.substring(msg.indexOf("!")+1,msg.indexOf("&"))
     tem4= msg.substring(msg.indexOf("&")+1,msg.indexOf(")("))
     if(msg.indexOf("10730001")>-1 ){
	 document.getElementById('lbUsers1').value = tem1+"/"+tem2;
	 document.getElementById('lbUsers2').value = tem3+"/"+tem4;
	 }
	 if(msg.indexOf("10730002")>-1 ){
	 document.getElementById('lbUsers1a').value = tem1+"/"+tem2;
	 document.getElementById('lbUsers2a').value = tem3+"/"+tem4;
	 }
	 if(msg.indexOf("10730003")>-1 ){
	 document.getElementById('lbUsers1b').value = tem1+"/"+tem2;
	 document.getElementById('lbUsers2b').value = tem3+"/"+tem4;;
	 }
	 if(msg.indexOf("10730004")>-1 ){
	 document.getElementById('lbUsers1c').value = tem1+"/"+tem2;
	 document.getElementById('lbUsers2c').value = tem3+"/"+tem4;;
	 }
	 if(msg.indexOf("10730005")>-1 ){
	 document.getElementById('lbUsers1d').value = tem1+"/"+tem2;
	 document.getElementById('lbUsers2d').value = tem3+"/"+tem4;;
	 }
	
}
function elks(msg){
     
     tem1= msg.substring(msg.indexOf("[")+1,msg.indexOf("]"))
     
     if(msg.indexOf("10730001")>-1 ){
	 document.getElementById('lbUsers3').value = tem1;
	 
	 }
	 if(msg.indexOf("10730002")>-1 ){
	 document.getElementById('lbUsers3a').value = tem1;
	
	 }
	 if(msg.indexOf("10730003")>-1 ){
	 document.getElementById('lbUsers3b').value = tem1;
	
	 }
	 if(msg.indexOf("10730004")>-1 ){
	 document.getElementById('lbUsers3c').value = tem1;
	 
	 }
	 if(msg.indexOf("10730005")>-1 ){
	 document.getElementById('lbUsers3d').value = tem1;
	 
	 }
}
function elkt(msg){
    tem1= msg.substring(msg.indexOf("[")+1,msg.indexOf("]"))
     
     if(msg.indexOf("10730001")>-1 ){
	 document.getElementById('lbUsers4').value = tem1;
	 
	 }
	 if(msg.indexOf("10730002")>-1 ){
	 document.getElementById('lbUsers4a').value = tem1;
	
	 }
	 if(msg.indexOf("10730003")>-1 ){
	 document.getElementById('lbUsers4b').value = tem1;
	
	 }
	 if(msg.indexOf("10730004")>-1 ){
	 document.getElementById('lbUsers4c').value = tem1;
	 
	 }
 	 if(msg.indexOf("10730005")>-1 ){
	 document.getElementById('lbUsers4d').value = tem1;
	 
	 }
}	
function elzt(msg){
 
}	
	</script>
</body>
</html>
